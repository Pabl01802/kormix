{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { HasElementTags, hashTag, normaliseProps, tagDedupeKey, defineHeadPlugin } from '@unhead/shared';\nasync function renderDOMHead(head, options = {}) {\n  const dom = options.document || head.resolvedOptions.document;\n  if (!dom) return;\n  const beforeRenderCtx = {\n    shouldRender: head.dirty,\n    tags: []\n  };\n  await head.hooks.callHook(\"dom:beforeRender\", beforeRenderCtx);\n  if (!beforeRenderCtx.shouldRender) return;\n  const tags = (await head.resolveTags()).map(tag => ({\n    tag,\n    id: HasElementTags.includes(tag.tag) ? hashTag(tag) : tag.tag,\n    shouldRender: true\n  }));\n  let state = head._dom;\n  if (!state) {\n    state = {\n      elMap: {\n        htmlAttrs: dom.documentElement,\n        bodyAttrs: dom.body\n      }\n    };\n    for (const key of [\"body\", \"head\"]) {\n      const children = dom?.[key]?.children;\n      const tags2 = [];\n      for (const c of [...children].filter(c2 => HasElementTags.includes(c2.tagName.toLowerCase()))) {\n        const t = {\n          tag: c.tagName.toLowerCase(),\n          props: await normaliseProps(c.getAttributeNames().reduce((props, name) => ({\n            ...props,\n            [name]: c.getAttribute(name)\n          }), {})),\n          innerHTML: c.innerHTML\n        };\n        let i = 1;\n        let d = tagDedupeKey(t);\n        while (d && tags2.find(t2 => t2._d === d)) d = `${d}:${i++}`;\n        t._d = d || void 0;\n        tags2.push(t);\n        state.elMap[c.getAttribute(\"data-hid\") || hashTag(t)] = c;\n      }\n    }\n  }\n  state.pendingSideEffects = {\n    ...(state.sideEffects || {})\n  };\n  state.sideEffects = {};\n  function track(id, scope, fn) {\n    const k = `${id}:${scope}`;\n    state.sideEffects[k] = fn;\n    delete state.pendingSideEffects[k];\n  }\n  function trackCtx({\n    id,\n    $el,\n    tag\n  }) {\n    const isAttrTag = tag.tag.endsWith(\"Attrs\");\n    state.elMap[id] = $el;\n    if (!isAttrTag) {\n      [\"textContent\", \"innerHTML\"].forEach(k => {\n        tag[k] && tag[k] !== $el[k] && ($el[k] = tag[k]);\n      });\n      track(id, \"el\", () => {\n        state.elMap[id]?.remove();\n        delete state.elMap[id];\n      });\n    }\n    Object.entries(tag.props).forEach(([k, value]) => {\n      const ck = `attr:${k}`;\n      if (k === \"class\") {\n        for (const c of (value || \"\").split(\" \").filter(Boolean)) {\n          isAttrTag && track(id, `${ck}:${c}`, () => $el.classList.remove(c));\n          !$el.classList.contains(c) && $el.classList.add(c);\n        }\n      } else if (k === \"style\") {\n        for (const c of value.split(\";\").filter(Boolean)) {\n          const [k2, v] = c.split(\":\").map(s => s.trim());\n          track(id, `${ck}:${c}:${k2}`, () => {\n            $el.style.removeProperty(k2);\n          });\n          $el.style.setProperty(k2, v);\n        }\n      } else {\n        $el.getAttribute(k) !== value && $el.setAttribute(k, value === true ? \"\" : String(value));\n        isAttrTag && track(id, ck, () => $el.removeAttribute(k));\n      }\n    });\n  }\n  const pending = [];\n  const frag = {\n    bodyClose: void 0,\n    bodyOpen: void 0,\n    head: void 0\n  };\n  for (const ctx of tags) {\n    const {\n      tag,\n      shouldRender,\n      id\n    } = ctx;\n    if (!shouldRender) continue;\n    if (tag.tag === \"title\") {\n      dom.title = tag.textContent;\n      continue;\n    }\n    ctx.$el = ctx.$el || state.elMap[id];\n    if (ctx.$el) trackCtx(ctx);else HasElementTags.includes(tag.tag) && pending.push(ctx);\n  }\n  for (const ctx of pending) {\n    const pos = ctx.tag.tagPosition || \"head\";\n    ctx.$el = dom.createElement(ctx.tag.tag);\n    trackCtx(ctx);\n    frag[pos] = frag[pos] || dom.createDocumentFragment();\n    frag[pos].appendChild(ctx.$el);\n  }\n  for (const ctx of tags) await head.hooks.callHook(\"dom:renderTag\", ctx, dom, track);\n  frag.head && dom.head.appendChild(frag.head);\n  frag.bodyOpen && dom.body.insertBefore(frag.bodyOpen, dom.body.firstChild);\n  frag.bodyClose && dom.body.appendChild(frag.bodyClose);\n  Object.values(state.pendingSideEffects).forEach(fn => fn());\n  head._dom = state;\n  head.dirty = false;\n  await head.hooks.callHook(\"dom:rendered\", {\n    renders: tags\n  });\n}\nasync function debouncedRenderDOMHead(head, options = {}) {\n  const fn = options.delayFn || (fn2 => setTimeout(fn2, 10));\n  return head._domUpdatePromise = head._domUpdatePromise || new Promise(resolve => fn(async () => {\n    await renderDOMHead(head, options);\n    delete head._domUpdatePromise;\n    resolve();\n  }));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction DomPlugin(options) {\n  return defineHeadPlugin(head => {\n    const initialPayload = head.resolvedOptions.document?.head.querySelector('script[id=\"unhead:payload\"]')?.innerHTML || false;\n    initialPayload && head.push(JSON.parse(initialPayload));\n    return {\n      mode: \"client\",\n      hooks: {\n        \"entries:updated\": function (head2) {\n          debouncedRenderDOMHead(head2, options);\n        }\n      }\n    };\n  });\n}\nexport { DomPlugin, debouncedRenderDOMHead, renderDOMHead };","map":{"version":3,"names":["HasElementTags","hashTag","normaliseProps","tagDedupeKey","defineHeadPlugin","renderDOMHead","head","options","dom","document","resolvedOptions","beforeRenderCtx","shouldRender","dirty","tags","hooks","callHook","resolveTags","map","tag","id","includes","state","_dom","elMap","htmlAttrs","documentElement","bodyAttrs","body","key","children","tags2","c","filter","c2","tagName","toLowerCase","t","props","getAttributeNames","reduce","name","getAttribute","innerHTML","i","d","find","t2","_d","push","pendingSideEffects","sideEffects","track","scope","fn","k","trackCtx","$el","isAttrTag","endsWith","forEach","remove","Object","entries","value","ck","split","Boolean","classList","contains","add","k2","v","s","trim","style","removeProperty","setProperty","setAttribute","String","removeAttribute","pending","frag","bodyClose","bodyOpen","ctx","title","textContent","pos","tagPosition","createElement","createDocumentFragment","appendChild","insertBefore","firstChild","values","renders","debouncedRenderDOMHead","delayFn","fn2","setTimeout","_domUpdatePromise","Promise","resolve","DomPlugin","initialPayload","querySelector","JSON","parse","mode","entries:updated","head2"],"sources":["C:/Users/kacpe/Desktop/Praca/projects/kormix/node_modules/@unhead/dom/dist/index.mjs"],"sourcesContent":["import { HasElementTags, hashTag, normaliseProps, tagDedupeKey, defineHeadPlugin } from '@unhead/shared';\n\nasync function renderDOMHead(head, options = {}) {\n  const dom = options.document || head.resolvedOptions.document;\n  if (!dom)\n    return;\n  const beforeRenderCtx = { shouldRender: head.dirty, tags: [] };\n  await head.hooks.callHook(\"dom:beforeRender\", beforeRenderCtx);\n  if (!beforeRenderCtx.shouldRender)\n    return;\n  const tags = (await head.resolveTags()).map((tag) => ({\n    tag,\n    id: HasElementTags.includes(tag.tag) ? hashTag(tag) : tag.tag,\n    shouldRender: true\n  }));\n  let state = head._dom;\n  if (!state) {\n    state = {\n      elMap: { htmlAttrs: dom.documentElement, bodyAttrs: dom.body }\n    };\n    for (const key of [\"body\", \"head\"]) {\n      const children = dom?.[key]?.children;\n      const tags2 = [];\n      for (const c of [...children].filter((c2) => HasElementTags.includes(c2.tagName.toLowerCase()))) {\n        const t = {\n          tag: c.tagName.toLowerCase(),\n          props: await normaliseProps(\n            c.getAttributeNames().reduce((props, name) => ({ ...props, [name]: c.getAttribute(name) }), {})\n          ),\n          innerHTML: c.innerHTML\n        };\n        let i = 1;\n        let d = tagDedupeKey(t);\n        while (d && tags2.find((t2) => t2._d === d))\n          d = `${d}:${i++}`;\n        t._d = d || void 0;\n        tags2.push(t);\n        state.elMap[c.getAttribute(\"data-hid\") || hashTag(t)] = c;\n      }\n    }\n  }\n  state.pendingSideEffects = { ...state.sideEffects || {} };\n  state.sideEffects = {};\n  function track(id, scope, fn) {\n    const k = `${id}:${scope}`;\n    state.sideEffects[k] = fn;\n    delete state.pendingSideEffects[k];\n  }\n  function trackCtx({ id, $el, tag }) {\n    const isAttrTag = tag.tag.endsWith(\"Attrs\");\n    state.elMap[id] = $el;\n    if (!isAttrTag) {\n      [\"textContent\", \"innerHTML\"].forEach((k) => {\n        tag[k] && tag[k] !== $el[k] && ($el[k] = tag[k]);\n      });\n      track(id, \"el\", () => {\n        state.elMap[id]?.remove();\n        delete state.elMap[id];\n      });\n    }\n    Object.entries(tag.props).forEach(([k, value]) => {\n      const ck = `attr:${k}`;\n      if (k === \"class\") {\n        for (const c of (value || \"\").split(\" \").filter(Boolean)) {\n          isAttrTag && track(id, `${ck}:${c}`, () => $el.classList.remove(c));\n          !$el.classList.contains(c) && $el.classList.add(c);\n        }\n      } else if (k === \"style\") {\n        for (const c of value.split(\";\").filter(Boolean)) {\n          const [k2, v] = c.split(\":\").map((s) => s.trim());\n          track(id, `${ck}:${c}:${k2}`, () => {\n            $el.style.removeProperty(k2);\n          });\n          $el.style.setProperty(k2, v);\n        }\n      } else {\n        $el.getAttribute(k) !== value && $el.setAttribute(k, value === true ? \"\" : String(value));\n        isAttrTag && track(id, ck, () => $el.removeAttribute(k));\n      }\n    });\n  }\n  const pending = [];\n  const frag = {\n    bodyClose: void 0,\n    bodyOpen: void 0,\n    head: void 0\n  };\n  for (const ctx of tags) {\n    const { tag, shouldRender, id } = ctx;\n    if (!shouldRender)\n      continue;\n    if (tag.tag === \"title\") {\n      dom.title = tag.textContent;\n      continue;\n    }\n    ctx.$el = ctx.$el || state.elMap[id];\n    if (ctx.$el)\n      trackCtx(ctx);\n    else\n      HasElementTags.includes(tag.tag) && pending.push(ctx);\n  }\n  for (const ctx of pending) {\n    const pos = ctx.tag.tagPosition || \"head\";\n    ctx.$el = dom.createElement(ctx.tag.tag);\n    trackCtx(ctx);\n    frag[pos] = frag[pos] || dom.createDocumentFragment();\n    frag[pos].appendChild(ctx.$el);\n  }\n  for (const ctx of tags)\n    await head.hooks.callHook(\"dom:renderTag\", ctx, dom, track);\n  frag.head && dom.head.appendChild(frag.head);\n  frag.bodyOpen && dom.body.insertBefore(frag.bodyOpen, dom.body.firstChild);\n  frag.bodyClose && dom.body.appendChild(frag.bodyClose);\n  Object.values(state.pendingSideEffects).forEach((fn) => fn());\n  head._dom = state;\n  head.dirty = false;\n  await head.hooks.callHook(\"dom:rendered\", { renders: tags });\n}\n\nasync function debouncedRenderDOMHead(head, options = {}) {\n  const fn = options.delayFn || ((fn2) => setTimeout(fn2, 10));\n  return head._domUpdatePromise = head._domUpdatePromise || new Promise((resolve) => fn(async () => {\n    await renderDOMHead(head, options);\n    delete head._domUpdatePromise;\n    resolve();\n  }));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction DomPlugin(options) {\n  return defineHeadPlugin((head) => {\n    const initialPayload = head.resolvedOptions.document?.head.querySelector('script[id=\"unhead:payload\"]')?.innerHTML || false;\n    initialPayload && head.push(JSON.parse(initialPayload));\n    return {\n      mode: \"client\",\n      hooks: {\n        \"entries:updated\": function(head2) {\n          debouncedRenderDOMHead(head2, options);\n        }\n      }\n    };\n  });\n}\n\nexport { DomPlugin, debouncedRenderDOMHead, renderDOMHead };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}