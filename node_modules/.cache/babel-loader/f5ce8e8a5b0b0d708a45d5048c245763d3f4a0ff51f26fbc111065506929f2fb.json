{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { createHooks } from 'hookable';\nimport { DomPlugin } from '@unhead/dom';\nimport { defineHeadPlugin, tagDedupeKey, tagWeight, HasElementTags, hashCode, NetworkEvents, SortModifiers, processTemplateParams, resolveTitleTemplate, IsBrowser, normaliseEntryTags, composableNames, whitelistSafeInput, unpackMeta } from '@unhead/shared';\nexport { composableNames } from '@unhead/shared';\nconst UsesMergeStrategy = [\"templateParams\", \"htmlAttrs\", \"bodyAttrs\"];\nconst DedupePlugin = defineHeadPlugin({\n  hooks: {\n    \"tag:normalise\": function ({\n      tag\n    }) {\n      [\"hid\", \"vmid\", \"key\"].forEach(key => {\n        if (tag.props[key]) {\n          tag.key = tag.props[key];\n          delete tag.props[key];\n        }\n      });\n      const generatedKey = tagDedupeKey(tag);\n      const dedupe = generatedKey || (tag.key ? `${tag.tag}:${tag.key}` : false);\n      if (dedupe) tag._d = dedupe;\n    },\n    \"tags:resolve\": function (ctx) {\n      const deduping = {};\n      ctx.tags.forEach(tag => {\n        const dedupeKey = (tag.key ? `${tag.tag}:${tag.key}` : tag._d) || tag._p;\n        const dupedTag = deduping[dedupeKey];\n        if (dupedTag) {\n          let strategy = tag?.tagDuplicateStrategy;\n          if (!strategy && UsesMergeStrategy.includes(tag.tag)) strategy = \"merge\";\n          if (strategy === \"merge\") {\n            const oldProps = dupedTag.props;\n            [\"class\", \"style\"].forEach(key => {\n              if (oldProps[key]) {\n                if (tag.props[key]) {\n                  if (key === \"style\" && !oldProps[key].endsWith(\";\")) oldProps[key] += \";\";\n                  tag.props[key] = `${oldProps[key]} ${tag.props[key]}`;\n                } else {\n                  tag.props[key] = oldProps[key];\n                }\n              }\n            });\n            deduping[dedupeKey].props = {\n              ...oldProps,\n              ...tag.props\n            };\n            return;\n          } else if (tag._e === dupedTag._e) {\n            dupedTag._duped = dupedTag._duped || [];\n            tag._d = `${dupedTag._d}:${dupedTag._duped.length + 1}`;\n            dupedTag._duped.push(tag);\n            return;\n          } else if (tagWeight(tag) > tagWeight(dupedTag)) {\n            return;\n          }\n        }\n        const propCount = Object.keys(tag.props).length + (tag.innerHTML ? 1 : 0) + (tag.textContent ? 1 : 0);\n        if (HasElementTags.includes(tag.tag) && propCount === 0) {\n          delete deduping[dedupeKey];\n          return;\n        }\n        deduping[dedupeKey] = tag;\n      });\n      const newTags = [];\n      Object.values(deduping).forEach(tag => {\n        const dupes = tag._duped;\n        delete tag._duped;\n        newTags.push(tag);\n        if (dupes) newTags.push(...dupes);\n      });\n      ctx.tags = newTags;\n      ctx.tags = ctx.tags.filter(t => !(t.tag === \"meta\" && (t.props.name || t.props.property) && !t.props.content));\n    }\n  }\n});\nconst PayloadPlugin = defineHeadPlugin({\n  mode: \"server\",\n  hooks: {\n    \"tags:resolve\": function (ctx) {\n      const payload = {};\n      ctx.tags.filter(tag => [\"titleTemplate\", \"templateParams\", \"title\"].includes(tag.tag) && tag._m === \"server\").forEach(tag => {\n        payload[tag.tag] = tag.tag.startsWith(\"title\") ? tag.textContent : tag.props;\n      });\n      Object.keys(payload).length && ctx.tags.push({\n        tag: \"script\",\n        innerHTML: JSON.stringify(payload),\n        props: {\n          id: \"unhead:payload\",\n          type: \"application/json\"\n        }\n      });\n    }\n  }\n});\nconst ValidEventTags = [\"script\", \"link\", \"bodyAttrs\"];\nfunction stripEventHandlers(tag) {\n  const props = {};\n  const eventHandlers = {};\n  Object.entries(tag.props).forEach(([key, value]) => {\n    if (key.startsWith(\"on\") && typeof value === \"function\") {\n      if (NetworkEvents.includes(key)) props[key] = `this.dataset.${key} = true`;\n      eventHandlers[key] = value;\n    } else {\n      props[key] = value;\n    }\n  });\n  return {\n    props,\n    eventHandlers\n  };\n}\nconst EventHandlersPlugin = defineHeadPlugin(head => ({\n  hooks: {\n    \"tags:resolve\": function (ctx) {\n      for (const tag of ctx.tags) {\n        if (ValidEventTags.includes(tag.tag)) {\n          const {\n            props,\n            eventHandlers\n          } = stripEventHandlers(tag);\n          tag.props = props;\n          if (Object.keys(eventHandlers).length) {\n            if (tag.props.src || tag.props.href) tag.key = tag.key || hashCode(tag.props.src || tag.props.href);\n            tag._eventHandlers = eventHandlers;\n          }\n        }\n      }\n    },\n    \"dom:renderTag\": function (ctx, dom, track) {\n      if (!ctx.tag._eventHandlers) return;\n      const $eventListenerTarget = ctx.tag.tag === \"bodyAttrs\" ? dom.defaultView : ctx.$el;\n      Object.entries(ctx.tag._eventHandlers).forEach(([k, value]) => {\n        const sdeKey = `${ctx.tag._d || ctx.tag._p}:${k}`;\n        const eventName = k.slice(2).toLowerCase();\n        const eventDedupeKey = `data-h-${eventName}`;\n        track(ctx.id, sdeKey, () => {});\n        if (ctx.$el.hasAttribute(eventDedupeKey)) return;\n        ctx.$el.setAttribute(eventDedupeKey, \"\");\n        let observer;\n        const handler = e => {\n          value(e);\n          observer?.disconnect();\n        };\n        if (k in ctx.$el.dataset) {\n          handler(new Event(k.replace(\"on\", \"\")));\n        } else if (NetworkEvents.includes(k) && typeof MutationObserver !== \"undefined\") {\n          observer = new MutationObserver(e => {\n            const hasAttr = e.some(m => m.attributeName === `data-${k}`);\n            if (hasAttr) {\n              handler(new Event(k.replace(\"on\", \"\")));\n              observer?.disconnect();\n            }\n          });\n          observer.observe(ctx.$el, {\n            attributes: true\n          });\n        } else {\n          $eventListenerTarget.addEventListener(eventName, handler);\n        }\n        track(ctx.id, sdeKey, () => {\n          observer?.disconnect();\n          $eventListenerTarget.removeEventListener(eventName, handler);\n          ctx.$el.removeAttribute(eventDedupeKey);\n        });\n      });\n    }\n  }\n}));\nconst DupeableTags = [\"link\", \"style\", \"script\", \"noscript\"];\nconst HashKeyedPlugin = defineHeadPlugin({\n  hooks: {\n    \"tag:normalise\": ({\n      tag\n    }) => {\n      if (tag.key && DupeableTags.includes(tag.tag)) {\n        tag.props[\"data-hid\"] = tag._h = hashCode(tag.key);\n      }\n    }\n  }\n});\nconst SortPlugin = defineHeadPlugin({\n  hooks: {\n    \"tags:resolve\": ctx => {\n      const tagPositionForKey = key => ctx.tags.find(tag => tag._d === key)?._p;\n      for (const {\n        prefix,\n        offset\n      } of SortModifiers) {\n        for (const tag of ctx.tags.filter(tag2 => typeof tag2.tagPriority === \"string\" && tag2.tagPriority.startsWith(prefix))) {\n          const position = tagPositionForKey(tag.tagPriority.replace(prefix, \"\"));\n          if (typeof position !== \"undefined\") tag._p = position + offset;\n        }\n      }\n      ctx.tags.sort((a, b) => a._p - b._p).sort((a, b) => tagWeight(a) - tagWeight(b));\n    }\n  }\n});\nconst SupportedAttrs = {\n  meta: \"content\",\n  link: \"href\",\n  htmlAttrs: \"lang\"\n};\nconst TemplateParamsPlugin = defineHeadPlugin(head => ({\n  hooks: {\n    \"tags:resolve\": ctx => {\n      const {\n        tags\n      } = ctx;\n      const title = tags.find(tag => tag.tag === \"title\")?.textContent;\n      const idx = tags.findIndex(tag => tag.tag === \"templateParams\");\n      const params = idx !== -1 ? tags[idx].props : {};\n      const sep = params.separator || \"|\";\n      delete params.separator;\n      params.pageTitle = processTemplateParams(params.pageTitle || title || \"\", params, sep);\n      for (const tag of tags.filter(t => t.processTemplateParams !== false)) {\n        const v = SupportedAttrs[tag.tag];\n        if (v && typeof tag.props[v] === \"string\") {\n          tag.props[v] = processTemplateParams(tag.props[v], params, sep);\n        } else if (tag.processTemplateParams === true || [\"titleTemplate\", \"title\"].includes(tag.tag)) {\n          [\"innerHTML\", \"textContent\"].forEach(p => {\n            if (typeof tag[p] === \"string\") tag[p] = processTemplateParams(tag[p], params, sep);\n          });\n        }\n      }\n      head._templateParams = params;\n      head._separator = sep;\n      ctx.tags = tags.filter(tag => tag.tag !== \"templateParams\");\n    }\n  }\n}));\nconst TitleTemplatePlugin = defineHeadPlugin({\n  hooks: {\n    \"tags:resolve\": ctx => {\n      const {\n        tags\n      } = ctx;\n      let titleTemplateIdx = tags.findIndex(i => i.tag === \"titleTemplate\");\n      const titleIdx = tags.findIndex(i => i.tag === \"title\");\n      if (titleIdx !== -1 && titleTemplateIdx !== -1) {\n        const newTitle = resolveTitleTemplate(tags[titleTemplateIdx].textContent, tags[titleIdx].textContent);\n        if (newTitle !== null) {\n          tags[titleIdx].textContent = newTitle || tags[titleIdx].textContent;\n        } else {\n          delete tags[titleIdx];\n        }\n      } else if (titleTemplateIdx !== -1) {\n        const newTitle = resolveTitleTemplate(tags[titleTemplateIdx].textContent);\n        if (newTitle !== null) {\n          tags[titleTemplateIdx].textContent = newTitle;\n          tags[titleTemplateIdx].tag = \"title\";\n          titleTemplateIdx = -1;\n        }\n      }\n      if (titleTemplateIdx !== -1) {\n        delete tags[titleTemplateIdx];\n      }\n      ctx.tags = tags.filter(Boolean);\n    }\n  }\n});\nconst XSSPlugin = defineHeadPlugin({\n  hooks: {\n    \"tags:afterResolve\": function (ctx) {\n      for (const tag of ctx.tags) {\n        if (typeof tag.innerHTML === \"string\") {\n          if (tag.innerHTML && [\"application/ld+json\", \"application/json\"].includes(tag.props.type)) {\n            tag.innerHTML = tag.innerHTML.replace(/</g, \"\\\\u003C\");\n          } else {\n            tag.innerHTML = tag.innerHTML.replace(new RegExp(`</${tag.tag}`, \"g\"), `<\\\\/${tag.tag}`);\n          }\n        }\n      }\n    }\n  }\n});\nlet activeHead;\n// @__NO_SIDE_EFFECTS__\nfunction createHead(options = {}) {\n  const head = createHeadCore(options);\n  head.use(DomPlugin());\n  return activeHead = head;\n}\n// @__NO_SIDE_EFFECTS__\nfunction createServerHead(options = {}) {\n  return activeHead = createHeadCore(options);\n}\nfunction filterMode(mode, ssr) {\n  return !mode || mode === \"server\" && ssr || mode === \"client\" && !ssr;\n}\nfunction createHeadCore(options = {}) {\n  const hooks = createHooks();\n  hooks.addHooks(options.hooks || {});\n  options.document = options.document || (IsBrowser ? document : void 0);\n  const ssr = !options.document;\n  const updated = () => {\n    head.dirty = true;\n    hooks.callHook(\"entries:updated\", head);\n  };\n  let entryCount = 0;\n  let entries = [];\n  const plugins = [];\n  const head = {\n    plugins,\n    dirty: false,\n    resolvedOptions: options,\n    hooks,\n    headEntries() {\n      return entries;\n    },\n    use(p) {\n      const plugin = typeof p === \"function\" ? p(head) : p;\n      if (!plugin.key || !plugins.some(p2 => p2.key === plugin.key)) {\n        plugins.push(plugin);\n        filterMode(plugin.mode, ssr) && hooks.addHooks(plugin.hooks || {});\n      }\n    },\n    push(input, entryOptions) {\n      delete entryOptions?.head;\n      const entry = {\n        _i: entryCount++,\n        input,\n        ...entryOptions\n      };\n      if (filterMode(entry.mode, ssr)) {\n        entries.push(entry);\n        updated();\n      }\n      return {\n        dispose() {\n          entries = entries.filter(e => e._i !== entry._i);\n          hooks.callHook(\"entries:updated\", head);\n          updated();\n        },\n        // a patch is the same as creating a new entry, just a nice DX\n        patch(input2) {\n          entries = entries.map(e => {\n            if (e._i === entry._i) {\n              e.input = entry.input = input2;\n            }\n            return e;\n          });\n          updated();\n        }\n      };\n    },\n    async resolveTags() {\n      const resolveCtx = {\n        tags: [],\n        entries: [...entries]\n      };\n      await hooks.callHook(\"entries:resolve\", resolveCtx);\n      for (const entry of resolveCtx.entries) {\n        const resolved = entry.resolvedInput || entry.input;\n        entry.resolvedInput = await (entry.transform ? entry.transform(resolved) : resolved);\n        if (entry.resolvedInput) {\n          for (const tag of await normaliseEntryTags(entry)) {\n            const tagCtx = {\n              tag,\n              entry,\n              resolvedOptions: head.resolvedOptions\n            };\n            await hooks.callHook(\"tag:normalise\", tagCtx);\n            resolveCtx.tags.push(tagCtx.tag);\n          }\n        }\n      }\n      await hooks.callHook(\"tags:beforeResolve\", resolveCtx);\n      await hooks.callHook(\"tags:resolve\", resolveCtx);\n      await hooks.callHook(\"tags:afterResolve\", resolveCtx);\n      return resolveCtx.tags;\n    },\n    ssr\n  };\n  [DedupePlugin, PayloadPlugin, EventHandlersPlugin, HashKeyedPlugin, SortPlugin, TemplateParamsPlugin, TitleTemplatePlugin, XSSPlugin, ...(options?.plugins || [])].forEach(p => head.use(p));\n  head.hooks.callHook(\"init\", head);\n  return head;\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction HashHydrationPlugin() {\n  return defineHeadPlugin({});\n}\nconst importRe = /@import/;\n// @__NO_SIDE_EFFECTS__\nfunction CapoPlugin(options) {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:beforeResolve\": function ({\n        tags\n      }) {\n        for (const tag of tags) {\n          if (tag.tagPosition && tag.tagPosition !== \"head\") continue;\n          tag.tagPriority = tag.tagPriority || tagWeight(tag);\n          if (tag.tagPriority !== 100) continue;\n          const isTruthy = val => val === \"\" || val === true;\n          const isScript = tag.tag === \"script\";\n          const isLink = tag.tag === \"link\";\n          if (isScript && isTruthy(tag.props.async)) {\n            tag.tagPriority = 30;\n          } else if (tag.tag === \"style\" && tag.innerHTML && importRe.test(tag.innerHTML)) {\n            tag.tagPriority = 40;\n          } else if (isScript && tag.props.src && !isTruthy(tag.props.defer) && !isTruthy(tag.props.async) && tag.props.type !== \"module\" && !tag.props.type?.endsWith(\"json\")) {\n            tag.tagPriority = 50;\n          } else if (isLink && tag.props.rel === \"stylesheet\" || tag.tag === \"style\") {\n            tag.tagPriority = 60;\n          } else if (isLink && [\"preload\", \"modulepreload\"].includes(tag.props.rel)) {\n            tag.tagPriority = 70;\n          } else if (isScript && isTruthy(tag.props.defer) && tag.props.src && !isTruthy(tag.props.async)) {\n            tag.tagPriority = 80;\n          } else if (isLink && [\"prefetch\", \"dns-prefetch\", \"prerender\"].includes(tag.props.rel)) {\n            tag.tagPriority = 90;\n          }\n        }\n        options?.track && tags.push({\n          tag: \"htmlAttrs\",\n          props: {\n            \"data-capo\": \"\"\n          }\n        });\n      }\n    }\n  });\n}\nconst unheadComposablesImports = [{\n  from: \"unhead\",\n  imports: composableNames\n}];\nfunction getActiveHead() {\n  return activeHead;\n}\nfunction useHead(input, options = {}) {\n  const head = options.head || getActiveHead();\n  return head?.push(input, options);\n}\nfunction useHeadSafe(input, options = {}) {\n  return useHead(input, {\n    ...(options || {}),\n    transform: whitelistSafeInput\n  });\n}\nfunction useServerHead(input, options = {}) {\n  return useHead(input, {\n    ...options,\n    mode: \"server\"\n  });\n}\nfunction useServerHeadSafe(input, options = {}) {\n  return useHeadSafe(input, {\n    ...options,\n    mode: \"server\"\n  });\n}\nfunction useSeoMeta(input, options) {\n  const {\n    title,\n    titleTemplate,\n    ...meta\n  } = input;\n  return useHead({\n    title,\n    titleTemplate,\n    // we need to input the meta so the reactivity will be resolved\n    // @ts-expect-error runtime type\n    _flatMeta: meta\n  }, {\n    ...options,\n    transform(t) {\n      const meta2 = unpackMeta({\n        ...t._flatMeta\n      });\n      delete t._flatMeta;\n      return {\n        // @ts-expect-error runtime type\n        ...t,\n        meta: meta2\n      };\n    }\n  });\n}\nfunction useServerSeoMeta(input, options) {\n  return useSeoMeta(input, {\n    ...(options || {}),\n    mode: \"server\"\n  });\n}\nconst UseScriptDefaults = {\n  defer: true,\n  fetchpriority: \"low\"\n};\nconst requestIdleCallback = typeof window === \"undefined\" ? () => {} : globalThis.requestIdleCallback || (cb => {\n  const start = Date.now();\n  const idleDeadline = {\n    didTimeout: false,\n    timeRemaining: () => Math.max(0, 50 - (Date.now() - start))\n  };\n  return setTimeout(() => {\n    cb(idleDeadline);\n  }, 1);\n});\nfunction useScript(input, _options) {\n  const options = _options || {};\n  const head = options.head || getActiveHead();\n  if (!head) throw new Error(\"No active head found, please provide a head instance or use the useHead composable\");\n  const id = input.key || hashCode(input.src || (typeof input.innerHTML === \"string\" ? input.innerHTML : \"\"));\n  const key = `use-script.${id}`;\n  if (head._scripts?.[id]) return head._scripts[id];\n  async function transform(entry) {\n    const script2 = await (options.transform || (input2 => input2))(entry.script[0]);\n    const ctx = {\n      script: script2\n    };\n    await head.hooks.callHook(\"script:transform\", ctx);\n    return {\n      script: [ctx.script]\n    };\n  }\n  function maybeHintEarlyConnection(rel) {\n    if (\n    // opt-out\n    options.skipEarlyConnections || !input.src.includes(\"//\") || !head.ssr) return;\n    const key2 = `use-script.${id}.early-connection`;\n    head.push({\n      link: [{\n        key: key2,\n        rel,\n        href: new URL(input.src).origin\n      }]\n    }, {\n      mode: \"server\"\n    });\n  }\n  const script = {\n    id,\n    status: \"awaitingLoad\",\n    loaded: false,\n    remove() {\n      if (script.status === \"loaded\") {\n        script.entry?.dispose();\n        script.status = \"removed\";\n        head.hooks.callHook(`script:updated`, hookCtx);\n        delete head._scripts?.[id];\n        return true;\n      }\n      return false;\n    },\n    waitForLoad() {\n      return new Promise(resolve => {\n        if (script.status === \"loaded\") resolve(options.use());\n        function watchForScriptLoaded({\n          script: script2\n        }) {\n          if (script2.id === id && script2.status === \"loaded\") {\n            script2.loaded = true;\n            resolve(options.use?.());\n            head.hooks.removeHook(\"script:updated\", watchForScriptLoaded);\n          }\n        }\n        head.hooks.hook(\"script:updated\", watchForScriptLoaded);\n      });\n    },\n    load() {\n      if (script.status !== \"awaitingLoad\") return script.waitForLoad();\n      script.status = \"loading\";\n      head.hooks.callHook(`script:updated`, hookCtx);\n      script.entry = head.push({\n        script: [\n        // async by default\n        {\n          ...UseScriptDefaults,\n          ...input,\n          key\n        }]\n      }, {\n        ...options,\n        // @ts-expect-error untyped\n        transform,\n        head\n      });\n      return script.waitForLoad();\n    }\n  };\n  const hookCtx = {\n    script\n  };\n  NetworkEvents.forEach(fn => {\n    const _fn = typeof input[fn] === \"function\" ? input[fn].bind({}) : null;\n    input[fn] = e => {\n      script.status = fn === \"onload\" ? \"loaded\" : fn === \"onerror\" ? \"error\" : \"loading\";\n      head.hooks.callHook(`script:updated`, hookCtx);\n      _fn && _fn(e);\n    };\n  });\n  let trigger = options.trigger;\n  if (trigger) {\n    const isIdle = trigger === \"idle\";\n    if (isIdle) {\n      if (head.ssr) trigger = \"manual\";else trigger = new Promise(resolve => requestIdleCallback(() => resolve()));\n    }\n    trigger === \"manual\" && (trigger = new Promise(() => {}));\n    trigger instanceof Promise && trigger.then(script.load);\n    maybeHintEarlyConnection(isIdle ? \"preconnect\" : \"dns-prefetch\");\n  } else {\n    script.load();\n    maybeHintEarlyConnection(\"preconnect\");\n  }\n  function resolveInnerHtmlLoad(ctx) {\n    if (ctx.tag.key === key) {\n      if (ctx.tag.innerHTML) {\n        setTimeout(() => {\n          script.status = \"loaded\";\n          head.hooks.callHook(\"script:updated\", hookCtx);\n          typeof input.onload === \"function\" && input.onload(new Event(\"load\"));\n        }, 5\n        /* give inline script a chance to run */);\n      }\n      head.hooks.removeHook(\"dom:renderTag\", resolveInnerHtmlLoad);\n    }\n  }\n  head.hooks.hook(\"dom:renderTag\", resolveInnerHtmlLoad);\n  const instance = new Proxy({}, {\n    get(_, fn) {\n      const stub = options.stub?.({\n        script,\n        fn\n      });\n      if (stub) return stub;\n      if (fn === \"$script\") return script;\n      return (...args) => {\n        if (head.ssr || !options.use) return;\n        if (script.loaded) {\n          const api = options.use();\n          return api[fn](...args);\n        } else {\n          return script.waitForLoad().then(api => {\n            return api[fn](...args);\n          });\n        }\n      };\n    }\n  });\n  head._scripts = head._scripts || {};\n  head._scripts[id] = instance;\n  return instance;\n}\nexport { CapoPlugin, HashHydrationPlugin, createHead, createHeadCore, createServerHead, getActiveHead, unheadComposablesImports, useHead, useHeadSafe, useScript, useSeoMeta, useServerHead, useServerHeadSafe, useServerSeoMeta };","map":{"version":3,"names":["createHooks","DomPlugin","defineHeadPlugin","tagDedupeKey","tagWeight","HasElementTags","hashCode","NetworkEvents","SortModifiers","processTemplateParams","resolveTitleTemplate","IsBrowser","normaliseEntryTags","composableNames","whitelistSafeInput","unpackMeta","UsesMergeStrategy","DedupePlugin","hooks","tag:normalise","tag","forEach","key","props","generatedKey","dedupe","_d","tags:resolve","ctx","deduping","tags","dedupeKey","_p","dupedTag","strategy","tagDuplicateStrategy","includes","oldProps","endsWith","_e","_duped","length","push","propCount","Object","keys","innerHTML","textContent","newTags","values","dupes","filter","t","name","property","content","PayloadPlugin","mode","payload","_m","startsWith","JSON","stringify","id","type","ValidEventTags","stripEventHandlers","eventHandlers","entries","value","EventHandlersPlugin","head","src","href","_eventHandlers","dom:renderTag","dom","track","$eventListenerTarget","defaultView","$el","k","sdeKey","eventName","slice","toLowerCase","eventDedupeKey","hasAttribute","setAttribute","observer","handler","e","disconnect","dataset","Event","replace","MutationObserver","hasAttr","some","m","attributeName","observe","attributes","addEventListener","removeEventListener","removeAttribute","DupeableTags","HashKeyedPlugin","_h","SortPlugin","tagPositionForKey","find","prefix","offset","tag2","tagPriority","position","sort","a","b","SupportedAttrs","meta","link","htmlAttrs","TemplateParamsPlugin","title","idx","findIndex","params","sep","separator","pageTitle","v","p","_templateParams","_separator","TitleTemplatePlugin","titleTemplateIdx","i","titleIdx","newTitle","Boolean","XSSPlugin","tags:afterResolve","RegExp","activeHead","createHead","options","createHeadCore","use","createServerHead","filterMode","ssr","addHooks","document","updated","dirty","callHook","entryCount","plugins","resolvedOptions","headEntries","plugin","p2","input","entryOptions","entry","_i","dispose","patch","input2","map","resolveTags","resolveCtx","resolved","resolvedInput","transform","tagCtx","HashHydrationPlugin","importRe","CapoPlugin","tags:beforeResolve","tagPosition","isTruthy","val","isScript","isLink","async","test","defer","rel","unheadComposablesImports","from","imports","getActiveHead","useHead","useHeadSafe","useServerHead","useServerHeadSafe","useSeoMeta","titleTemplate","_flatMeta","meta2","useServerSeoMeta","UseScriptDefaults","fetchpriority","requestIdleCallback","window","globalThis","cb","start","Date","now","idleDeadline","didTimeout","timeRemaining","Math","max","setTimeout","useScript","_options","Error","_scripts","script2","script","maybeHintEarlyConnection","skipEarlyConnections","key2","URL","origin","status","loaded","remove","hookCtx","waitForLoad","Promise","resolve","watchForScriptLoaded","removeHook","hook","load","fn","_fn","bind","trigger","isIdle","then","resolveInnerHtmlLoad","onload","instance","Proxy","get","_","stub","args","api"],"sources":["C:/Users/kacpe/Desktop/Praca/projects/kormix/node_modules/unhead/dist/index.mjs"],"sourcesContent":["import { createHooks } from 'hookable';\nimport { DomPlugin } from '@unhead/dom';\nimport { defineHeadPlugin, tagDedupeKey, tagWeight, HasElementTags, hashCode, NetworkEvents, SortModifiers, processTemplateParams, resolveTitleTemplate, IsBrowser, normaliseEntryTags, composableNames, whitelistSafeInput, unpackMeta } from '@unhead/shared';\nexport { composableNames } from '@unhead/shared';\n\nconst UsesMergeStrategy = [\"templateParams\", \"htmlAttrs\", \"bodyAttrs\"];\nconst DedupePlugin = defineHeadPlugin({\n  hooks: {\n    \"tag:normalise\": function({ tag }) {\n      [\"hid\", \"vmid\", \"key\"].forEach((key) => {\n        if (tag.props[key]) {\n          tag.key = tag.props[key];\n          delete tag.props[key];\n        }\n      });\n      const generatedKey = tagDedupeKey(tag);\n      const dedupe = generatedKey || (tag.key ? `${tag.tag}:${tag.key}` : false);\n      if (dedupe)\n        tag._d = dedupe;\n    },\n    \"tags:resolve\": function(ctx) {\n      const deduping = {};\n      ctx.tags.forEach((tag) => {\n        const dedupeKey = (tag.key ? `${tag.tag}:${tag.key}` : tag._d) || tag._p;\n        const dupedTag = deduping[dedupeKey];\n        if (dupedTag) {\n          let strategy = tag?.tagDuplicateStrategy;\n          if (!strategy && UsesMergeStrategy.includes(tag.tag))\n            strategy = \"merge\";\n          if (strategy === \"merge\") {\n            const oldProps = dupedTag.props;\n            [\"class\", \"style\"].forEach((key) => {\n              if (oldProps[key]) {\n                if (tag.props[key]) {\n                  if (key === \"style\" && !oldProps[key].endsWith(\";\"))\n                    oldProps[key] += \";\";\n                  tag.props[key] = `${oldProps[key]} ${tag.props[key]}`;\n                } else {\n                  tag.props[key] = oldProps[key];\n                }\n              }\n            });\n            deduping[dedupeKey].props = {\n              ...oldProps,\n              ...tag.props\n            };\n            return;\n          } else if (tag._e === dupedTag._e) {\n            dupedTag._duped = dupedTag._duped || [];\n            tag._d = `${dupedTag._d}:${dupedTag._duped.length + 1}`;\n            dupedTag._duped.push(tag);\n            return;\n          } else if (tagWeight(tag) > tagWeight(dupedTag)) {\n            return;\n          }\n        }\n        const propCount = Object.keys(tag.props).length + (tag.innerHTML ? 1 : 0) + (tag.textContent ? 1 : 0);\n        if (HasElementTags.includes(tag.tag) && propCount === 0) {\n          delete deduping[dedupeKey];\n          return;\n        }\n        deduping[dedupeKey] = tag;\n      });\n      const newTags = [];\n      Object.values(deduping).forEach((tag) => {\n        const dupes = tag._duped;\n        delete tag._duped;\n        newTags.push(tag);\n        if (dupes)\n          newTags.push(...dupes);\n      });\n      ctx.tags = newTags;\n      ctx.tags = ctx.tags.filter((t) => !(t.tag === \"meta\" && (t.props.name || t.props.property) && !t.props.content));\n    }\n  }\n});\n\nconst PayloadPlugin = defineHeadPlugin({\n  mode: \"server\",\n  hooks: {\n    \"tags:resolve\": function(ctx) {\n      const payload = {};\n      ctx.tags.filter((tag) => [\"titleTemplate\", \"templateParams\", \"title\"].includes(tag.tag) && tag._m === \"server\").forEach((tag) => {\n        payload[tag.tag] = tag.tag.startsWith(\"title\") ? tag.textContent : tag.props;\n      });\n      Object.keys(payload).length && ctx.tags.push({\n        tag: \"script\",\n        innerHTML: JSON.stringify(payload),\n        props: { id: \"unhead:payload\", type: \"application/json\" }\n      });\n    }\n  }\n});\n\nconst ValidEventTags = [\"script\", \"link\", \"bodyAttrs\"];\nfunction stripEventHandlers(tag) {\n  const props = {};\n  const eventHandlers = {};\n  Object.entries(tag.props).forEach(([key, value]) => {\n    if (key.startsWith(\"on\") && typeof value === \"function\") {\n      if (NetworkEvents.includes(key))\n        props[key] = `this.dataset.${key} = true`;\n      eventHandlers[key] = value;\n    } else {\n      props[key] = value;\n    }\n  });\n  return { props, eventHandlers };\n}\nconst EventHandlersPlugin = defineHeadPlugin((head) => ({\n  hooks: {\n    \"tags:resolve\": function(ctx) {\n      for (const tag of ctx.tags) {\n        if (ValidEventTags.includes(tag.tag)) {\n          const { props, eventHandlers } = stripEventHandlers(tag);\n          tag.props = props;\n          if (Object.keys(eventHandlers).length) {\n            if (tag.props.src || tag.props.href)\n              tag.key = tag.key || hashCode(tag.props.src || tag.props.href);\n            tag._eventHandlers = eventHandlers;\n          }\n        }\n      }\n    },\n    \"dom:renderTag\": function(ctx, dom, track) {\n      if (!ctx.tag._eventHandlers)\n        return;\n      const $eventListenerTarget = ctx.tag.tag === \"bodyAttrs\" ? dom.defaultView : ctx.$el;\n      Object.entries(ctx.tag._eventHandlers).forEach(([k, value]) => {\n        const sdeKey = `${ctx.tag._d || ctx.tag._p}:${k}`;\n        const eventName = k.slice(2).toLowerCase();\n        const eventDedupeKey = `data-h-${eventName}`;\n        track(ctx.id, sdeKey, () => {\n        });\n        if (ctx.$el.hasAttribute(eventDedupeKey))\n          return;\n        ctx.$el.setAttribute(eventDedupeKey, \"\");\n        let observer;\n        const handler = (e) => {\n          value(e);\n          observer?.disconnect();\n        };\n        if (k in ctx.$el.dataset) {\n          handler(new Event(k.replace(\"on\", \"\")));\n        } else if (NetworkEvents.includes(k) && typeof MutationObserver !== \"undefined\") {\n          observer = new MutationObserver((e) => {\n            const hasAttr = e.some((m) => m.attributeName === `data-${k}`);\n            if (hasAttr) {\n              handler(new Event(k.replace(\"on\", \"\")));\n              observer?.disconnect();\n            }\n          });\n          observer.observe(ctx.$el, {\n            attributes: true\n          });\n        } else {\n          $eventListenerTarget.addEventListener(eventName, handler);\n        }\n        track(ctx.id, sdeKey, () => {\n          observer?.disconnect();\n          $eventListenerTarget.removeEventListener(eventName, handler);\n          ctx.$el.removeAttribute(eventDedupeKey);\n        });\n      });\n    }\n  }\n}));\n\nconst DupeableTags = [\"link\", \"style\", \"script\", \"noscript\"];\nconst HashKeyedPlugin = defineHeadPlugin({\n  hooks: {\n    \"tag:normalise\": ({ tag }) => {\n      if (tag.key && DupeableTags.includes(tag.tag)) {\n        tag.props[\"data-hid\"] = tag._h = hashCode(tag.key);\n      }\n    }\n  }\n});\n\nconst SortPlugin = defineHeadPlugin({\n  hooks: {\n    \"tags:resolve\": (ctx) => {\n      const tagPositionForKey = (key) => ctx.tags.find((tag) => tag._d === key)?._p;\n      for (const { prefix, offset } of SortModifiers) {\n        for (const tag of ctx.tags.filter((tag2) => typeof tag2.tagPriority === \"string\" && tag2.tagPriority.startsWith(prefix))) {\n          const position = tagPositionForKey(\n            tag.tagPriority.replace(prefix, \"\")\n          );\n          if (typeof position !== \"undefined\")\n            tag._p = position + offset;\n        }\n      }\n      ctx.tags.sort((a, b) => a._p - b._p).sort((a, b) => tagWeight(a) - tagWeight(b));\n    }\n  }\n});\n\nconst SupportedAttrs = {\n  meta: \"content\",\n  link: \"href\",\n  htmlAttrs: \"lang\"\n};\nconst TemplateParamsPlugin = defineHeadPlugin((head) => ({\n  hooks: {\n    \"tags:resolve\": (ctx) => {\n      const { tags } = ctx;\n      const title = tags.find((tag) => tag.tag === \"title\")?.textContent;\n      const idx = tags.findIndex((tag) => tag.tag === \"templateParams\");\n      const params = idx !== -1 ? tags[idx].props : {};\n      const sep = params.separator || \"|\";\n      delete params.separator;\n      params.pageTitle = processTemplateParams(params.pageTitle || title || \"\", params, sep);\n      for (const tag of tags.filter((t) => t.processTemplateParams !== false)) {\n        const v = SupportedAttrs[tag.tag];\n        if (v && typeof tag.props[v] === \"string\") {\n          tag.props[v] = processTemplateParams(tag.props[v], params, sep);\n        } else if (tag.processTemplateParams === true || [\"titleTemplate\", \"title\"].includes(tag.tag)) {\n          [\"innerHTML\", \"textContent\"].forEach((p) => {\n            if (typeof tag[p] === \"string\")\n              tag[p] = processTemplateParams(tag[p], params, sep);\n          });\n        }\n      }\n      head._templateParams = params;\n      head._separator = sep;\n      ctx.tags = tags.filter((tag) => tag.tag !== \"templateParams\");\n    }\n  }\n}));\n\nconst TitleTemplatePlugin = defineHeadPlugin({\n  hooks: {\n    \"tags:resolve\": (ctx) => {\n      const { tags } = ctx;\n      let titleTemplateIdx = tags.findIndex((i) => i.tag === \"titleTemplate\");\n      const titleIdx = tags.findIndex((i) => i.tag === \"title\");\n      if (titleIdx !== -1 && titleTemplateIdx !== -1) {\n        const newTitle = resolveTitleTemplate(\n          tags[titleTemplateIdx].textContent,\n          tags[titleIdx].textContent\n        );\n        if (newTitle !== null) {\n          tags[titleIdx].textContent = newTitle || tags[titleIdx].textContent;\n        } else {\n          delete tags[titleIdx];\n        }\n      } else if (titleTemplateIdx !== -1) {\n        const newTitle = resolveTitleTemplate(\n          tags[titleTemplateIdx].textContent\n        );\n        if (newTitle !== null) {\n          tags[titleTemplateIdx].textContent = newTitle;\n          tags[titleTemplateIdx].tag = \"title\";\n          titleTemplateIdx = -1;\n        }\n      }\n      if (titleTemplateIdx !== -1) {\n        delete tags[titleTemplateIdx];\n      }\n      ctx.tags = tags.filter(Boolean);\n    }\n  }\n});\n\nconst XSSPlugin = defineHeadPlugin({\n  hooks: {\n    \"tags:afterResolve\": function(ctx) {\n      for (const tag of ctx.tags) {\n        if (typeof tag.innerHTML === \"string\") {\n          if (tag.innerHTML && [\"application/ld+json\", \"application/json\"].includes(tag.props.type)) {\n            tag.innerHTML = tag.innerHTML.replace(/</g, \"\\\\u003C\");\n          } else {\n            tag.innerHTML = tag.innerHTML.replace(new RegExp(`</${tag.tag}`, \"g\"), `<\\\\/${tag.tag}`);\n          }\n        }\n      }\n    }\n  }\n});\n\nlet activeHead;\n// @__NO_SIDE_EFFECTS__\nfunction createHead(options = {}) {\n  const head = createHeadCore(options);\n  head.use(DomPlugin());\n  return activeHead = head;\n}\n// @__NO_SIDE_EFFECTS__\nfunction createServerHead(options = {}) {\n  return activeHead = createHeadCore(options);\n}\nfunction filterMode(mode, ssr) {\n  return !mode || mode === \"server\" && ssr || mode === \"client\" && !ssr;\n}\nfunction createHeadCore(options = {}) {\n  const hooks = createHooks();\n  hooks.addHooks(options.hooks || {});\n  options.document = options.document || (IsBrowser ? document : void 0);\n  const ssr = !options.document;\n  const updated = () => {\n    head.dirty = true;\n    hooks.callHook(\"entries:updated\", head);\n  };\n  let entryCount = 0;\n  let entries = [];\n  const plugins = [];\n  const head = {\n    plugins,\n    dirty: false,\n    resolvedOptions: options,\n    hooks,\n    headEntries() {\n      return entries;\n    },\n    use(p) {\n      const plugin = typeof p === \"function\" ? p(head) : p;\n      if (!plugin.key || !plugins.some((p2) => p2.key === plugin.key)) {\n        plugins.push(plugin);\n        filterMode(plugin.mode, ssr) && hooks.addHooks(plugin.hooks || {});\n      }\n    },\n    push(input, entryOptions) {\n      delete entryOptions?.head;\n      const entry = {\n        _i: entryCount++,\n        input,\n        ...entryOptions\n      };\n      if (filterMode(entry.mode, ssr)) {\n        entries.push(entry);\n        updated();\n      }\n      return {\n        dispose() {\n          entries = entries.filter((e) => e._i !== entry._i);\n          hooks.callHook(\"entries:updated\", head);\n          updated();\n        },\n        // a patch is the same as creating a new entry, just a nice DX\n        patch(input2) {\n          entries = entries.map((e) => {\n            if (e._i === entry._i) {\n              e.input = entry.input = input2;\n            }\n            return e;\n          });\n          updated();\n        }\n      };\n    },\n    async resolveTags() {\n      const resolveCtx = { tags: [], entries: [...entries] };\n      await hooks.callHook(\"entries:resolve\", resolveCtx);\n      for (const entry of resolveCtx.entries) {\n        const resolved = entry.resolvedInput || entry.input;\n        entry.resolvedInput = await (entry.transform ? entry.transform(resolved) : resolved);\n        if (entry.resolvedInput) {\n          for (const tag of await normaliseEntryTags(entry)) {\n            const tagCtx = { tag, entry, resolvedOptions: head.resolvedOptions };\n            await hooks.callHook(\"tag:normalise\", tagCtx);\n            resolveCtx.tags.push(tagCtx.tag);\n          }\n        }\n      }\n      await hooks.callHook(\"tags:beforeResolve\", resolveCtx);\n      await hooks.callHook(\"tags:resolve\", resolveCtx);\n      await hooks.callHook(\"tags:afterResolve\", resolveCtx);\n      return resolveCtx.tags;\n    },\n    ssr\n  };\n  [\n    DedupePlugin,\n    PayloadPlugin,\n    EventHandlersPlugin,\n    HashKeyedPlugin,\n    SortPlugin,\n    TemplateParamsPlugin,\n    TitleTemplatePlugin,\n    XSSPlugin,\n    ...options?.plugins || []\n  ].forEach((p) => head.use(p));\n  head.hooks.callHook(\"init\", head);\n  return head;\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction HashHydrationPlugin() {\n  return defineHeadPlugin({});\n}\n\nconst importRe = /@import/;\n// @__NO_SIDE_EFFECTS__\nfunction CapoPlugin(options) {\n  return defineHeadPlugin({\n    hooks: {\n      \"tags:beforeResolve\": function({ tags }) {\n        for (const tag of tags) {\n          if (tag.tagPosition && tag.tagPosition !== \"head\")\n            continue;\n          tag.tagPriority = tag.tagPriority || tagWeight(tag);\n          if (tag.tagPriority !== 100)\n            continue;\n          const isTruthy = (val) => val === \"\" || val === true;\n          const isScript = tag.tag === \"script\";\n          const isLink = tag.tag === \"link\";\n          if (isScript && isTruthy(tag.props.async)) {\n            tag.tagPriority = 30;\n          } else if (tag.tag === \"style\" && tag.innerHTML && importRe.test(tag.innerHTML)) {\n            tag.tagPriority = 40;\n          } else if (isScript && tag.props.src && !isTruthy(tag.props.defer) && !isTruthy(tag.props.async) && tag.props.type !== \"module\" && !tag.props.type?.endsWith(\"json\")) {\n            tag.tagPriority = 50;\n          } else if (isLink && tag.props.rel === \"stylesheet\" || tag.tag === \"style\") {\n            tag.tagPriority = 60;\n          } else if (isLink && [\"preload\", \"modulepreload\"].includes(tag.props.rel)) {\n            tag.tagPriority = 70;\n          } else if (isScript && isTruthy(tag.props.defer) && tag.props.src && !isTruthy(tag.props.async)) {\n            tag.tagPriority = 80;\n          } else if (isLink && [\"prefetch\", \"dns-prefetch\", \"prerender\"].includes(tag.props.rel)) {\n            tag.tagPriority = 90;\n          }\n        }\n        options?.track && tags.push({\n          tag: \"htmlAttrs\",\n          props: {\n            \"data-capo\": \"\"\n          }\n        });\n      }\n    }\n  });\n}\n\nconst unheadComposablesImports = [\n  {\n    from: \"unhead\",\n    imports: composableNames\n  }\n];\n\nfunction getActiveHead() {\n  return activeHead;\n}\n\nfunction useHead(input, options = {}) {\n  const head = options.head || getActiveHead();\n  return head?.push(input, options);\n}\n\nfunction useHeadSafe(input, options = {}) {\n  return useHead(input, {\n    ...options || {},\n    transform: whitelistSafeInput\n  });\n}\n\nfunction useServerHead(input, options = {}) {\n  return useHead(input, { ...options, mode: \"server\" });\n}\n\nfunction useServerHeadSafe(input, options = {}) {\n  return useHeadSafe(input, { ...options, mode: \"server\" });\n}\n\nfunction useSeoMeta(input, options) {\n  const { title, titleTemplate, ...meta } = input;\n  return useHead({\n    title,\n    titleTemplate,\n    // we need to input the meta so the reactivity will be resolved\n    // @ts-expect-error runtime type\n    _flatMeta: meta\n  }, {\n    ...options,\n    transform(t) {\n      const meta2 = unpackMeta({ ...t._flatMeta });\n      delete t._flatMeta;\n      return {\n        // @ts-expect-error runtime type\n        ...t,\n        meta: meta2\n      };\n    }\n  });\n}\n\nfunction useServerSeoMeta(input, options) {\n  return useSeoMeta(input, {\n    ...options || {},\n    mode: \"server\"\n  });\n}\n\nconst UseScriptDefaults = {\n  defer: true,\n  fetchpriority: \"low\"\n};\nconst requestIdleCallback = typeof window === \"undefined\" ? () => {\n} : globalThis.requestIdleCallback || ((cb) => {\n  const start = Date.now();\n  const idleDeadline = {\n    didTimeout: false,\n    timeRemaining: () => Math.max(0, 50 - (Date.now() - start))\n  };\n  return setTimeout(() => {\n    cb(idleDeadline);\n  }, 1);\n});\nfunction useScript(input, _options) {\n  const options = _options || {};\n  const head = options.head || getActiveHead();\n  if (!head)\n    throw new Error(\"No active head found, please provide a head instance or use the useHead composable\");\n  const id = input.key || hashCode(input.src || (typeof input.innerHTML === \"string\" ? input.innerHTML : \"\"));\n  const key = `use-script.${id}`;\n  if (head._scripts?.[id])\n    return head._scripts[id];\n  async function transform(entry) {\n    const script2 = await (options.transform || ((input2) => input2))(entry.script[0]);\n    const ctx = { script: script2 };\n    await head.hooks.callHook(\"script:transform\", ctx);\n    return { script: [ctx.script] };\n  }\n  function maybeHintEarlyConnection(rel) {\n    if (\n      // opt-out\n      options.skipEarlyConnections || !input.src.includes(\"//\") || !head.ssr\n    )\n      return;\n    const key2 = `use-script.${id}.early-connection`;\n    head.push({\n      link: [{ key: key2, rel, href: new URL(input.src).origin }]\n    }, { mode: \"server\" });\n  }\n  const script = {\n    id,\n    status: \"awaitingLoad\",\n    loaded: false,\n    remove() {\n      if (script.status === \"loaded\") {\n        script.entry?.dispose();\n        script.status = \"removed\";\n        head.hooks.callHook(`script:updated`, hookCtx);\n        delete head._scripts?.[id];\n        return true;\n      }\n      return false;\n    },\n    waitForLoad() {\n      return new Promise((resolve) => {\n        if (script.status === \"loaded\")\n          resolve(options.use());\n        function watchForScriptLoaded({ script: script2 }) {\n          if (script2.id === id && script2.status === \"loaded\") {\n            script2.loaded = true;\n            resolve(options.use?.());\n            head.hooks.removeHook(\"script:updated\", watchForScriptLoaded);\n          }\n        }\n        head.hooks.hook(\"script:updated\", watchForScriptLoaded);\n      });\n    },\n    load() {\n      if (script.status !== \"awaitingLoad\")\n        return script.waitForLoad();\n      script.status = \"loading\";\n      head.hooks.callHook(`script:updated`, hookCtx);\n      script.entry = head.push({\n        script: [\n          // async by default\n          { ...UseScriptDefaults, ...input, key }\n        ]\n      }, {\n        ...options,\n        // @ts-expect-error untyped\n        transform,\n        head\n      });\n      return script.waitForLoad();\n    }\n  };\n  const hookCtx = { script };\n  NetworkEvents.forEach((fn) => {\n    const _fn = typeof input[fn] === \"function\" ? input[fn].bind({}) : null;\n    input[fn] = (e) => {\n      script.status = fn === \"onload\" ? \"loaded\" : fn === \"onerror\" ? \"error\" : \"loading\";\n      head.hooks.callHook(`script:updated`, hookCtx);\n      _fn && _fn(e);\n    };\n  });\n  let trigger = options.trigger;\n  if (trigger) {\n    const isIdle = trigger === \"idle\";\n    if (isIdle) {\n      if (head.ssr)\n        trigger = \"manual\";\n      else\n        trigger = new Promise((resolve) => requestIdleCallback(() => resolve()));\n    }\n    trigger === \"manual\" && (trigger = new Promise(() => {\n    }));\n    trigger instanceof Promise && trigger.then(script.load);\n    maybeHintEarlyConnection(isIdle ? \"preconnect\" : \"dns-prefetch\");\n  } else {\n    script.load();\n    maybeHintEarlyConnection(\"preconnect\");\n  }\n  function resolveInnerHtmlLoad(ctx) {\n    if (ctx.tag.key === key) {\n      if (ctx.tag.innerHTML) {\n        setTimeout(\n          () => {\n            script.status = \"loaded\";\n            head.hooks.callHook(\"script:updated\", hookCtx);\n            typeof input.onload === \"function\" && input.onload(new Event(\"load\"));\n          },\n          5\n          /* give inline script a chance to run */\n        );\n      }\n      head.hooks.removeHook(\"dom:renderTag\", resolveInnerHtmlLoad);\n    }\n  }\n  head.hooks.hook(\"dom:renderTag\", resolveInnerHtmlLoad);\n  const instance = new Proxy({}, {\n    get(_, fn) {\n      const stub = options.stub?.({ script, fn });\n      if (stub)\n        return stub;\n      if (fn === \"$script\")\n        return script;\n      return (...args) => {\n        if (head.ssr || !options.use)\n          return;\n        if (script.loaded) {\n          const api = options.use();\n          return api[fn](...args);\n        } else {\n          return script.waitForLoad().then(\n            (api) => {\n              return api[fn](...args);\n            }\n          );\n        }\n      };\n    }\n  });\n  head._scripts = head._scripts || {};\n  head._scripts[id] = instance;\n  return instance;\n}\n\nexport { CapoPlugin, HashHydrationPlugin, createHead, createHeadCore, createServerHead, getActiveHead, unheadComposablesImports, useHead, useHeadSafe, useScript, useSeoMeta, useServerHead, useServerHeadSafe, useServerSeoMeta };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}